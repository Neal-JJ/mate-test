<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>理想伴侣测试 - 发现你的灵魂伴侣</title>
    <script src="./理想伴侣测试 - 发现你的灵魂伴侣_files/saved_resource"></script>
    <link rel="stylesheet" href="./理想伴侣测试 - 发现你的灵魂伴侣_files/all.min.css">
    <link rel="stylesheet" href="./理想伴侣测试 - 发现你的灵魂伴侣_files/v4-shims.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF4081',
                        secondary: '#00E5FF',
                        accent: '#FFD700',
                        dark: '#2D3436',
                        light: '#F8F9FA'
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .gradient-bg {
                background: linear-gradient(135deg, #FFB6C1 0%, #87CEEB 50%, #FFE4E1 100%);
                background-size: 400% 400%;
                animation: gradientFlow 15s ease infinite;
            }
            
            @keyframes gradientFlow {
                0% {
                    background-position: 0% 50%;
                }
                50% {
                    background-position: 100% 50%;
                }
                100% {
                    background-position: 0% 50%;
                }
            }
            
            .bg-decoration {
                position: fixed;
                border-radius: 50%;
                background: rgba(255, 182, 193, 0.15);
                z-index: -1;
                animation: float 8s ease-in-out infinite;
            }
            
            .bg-decoration--1 {
                top: 15%;
                left: 5%;
                width: 120px;
                height: 120px;
            }
            
            .bg-decoration--2 {
                top: 60%;
                right: 8%;
                width: 180px;
                height: 180px;
                background: rgba(135, 206, 235, 0.15);
                animation-delay: -4s;
            }
            
            .bg-decoration--3 {
                top: 80%;
                left: 30%;
                width: 90px;
                height: 90px;
                background: rgba(255, 228, 225, 0.15);
                animation-delay: -2s;
            }
            
            @keyframes float {
                0% {
                    transform: translateY(0) rotate(0deg);
                }
                50% {
                    transform: translateY(-25px) rotate(180deg);
                }
                100% {
                    transform: translateY(0) rotate(360deg);
                }
            }
            .card-shadow {
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .card-shadow:hover {
                transform: translateY(-5px);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            }
            .btn-hover {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .btn-hover:hover {
                transform: translateY(-3px) scale(1.02);
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            }
            .btn-hover:active {
                transform: translateY(-1px) scale(0.98);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
                filter: brightness(0.9);
            }
            .option-btn {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .option-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(255, 64, 129, 0.15);
            }
            .option-btn.active, .option-btn:active {
                background-color: rgba(255, 64, 129, 0.15);
                border-color: #FF4081;
                box-shadow: 0 5px 15px rgba(255, 64, 129, 0.3);
                transform: translateY(-1px);
            }
            .orientation-btn {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .orientation-btn:hover {
                transform: translateY(-3px) scale(1.03);
                box-shadow: 0 10px 25px rgba(255, 64, 129, 0.2);
            }
            .orientation-btn.active, .orientation-btn:active {
                background-color: rgba(255, 64, 129, 0.2);
                border-color: #FF4081;
                transform: translateY(-1px) scale(1.01);
            }
            .progress-bar {
                background: linear-gradient(90deg, #FF4081, #00E5FF);
                animation: progress 1s ease-in-out;
            }
            @keyframes progress {
                from {
                    width: 0%;
                }
                to {
                    width: 100%;
                }
            }
            
            /* 分享功能样式 */
            .animate-fadeIn {
                animation: fadeIn 0.3s ease-in-out;
            }
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            .copy-tip {
                position: fixed;
                top: 2rem;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 0.5rem 1.5rem;
                border-radius: 0.5rem;
                z-index: 60;
                animation: tipFade 2s ease-in-out forwards;
            }
            @keyframes tipFade {
                0% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                10% { opacity: 1; transform: translateX(-50%) translateY(0); }
                90% { opacity: 1; transform: translateX(-50%) translateY(0); }
                100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            }
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.fixed{position:fixed}.inset-0{inset:0px}.bottom-6{bottom:1.5rem}.right-6{right:1.5rem}.z-40{z-index:40}.z-50{z-index:50}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-10{margin-bottom:2.5rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mr-2{margin-right:0.5rem}.mt-6{margin-top:1.5rem}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-14{height:3.5rem}.h-16{height:4rem}.h-2\.5{height:0.625rem}.h-20{height:5rem}.h-48{height:12rem}.min-h-screen{min-height:100vh}.w-14{width:3.5rem}.w-16{width:4rem}.w-20{width:5rem}.w-48{width:12rem}.w-full{width:100%}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-md{max-width:28rem}.cursor-pointer{cursor:pointer}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-full{border-radius:9999px}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-primary{--tw-border-opacity:1;border-color:rgb(255 64 129 / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.bg-accent{--tw-bg-opacity:1;background-color:rgb(255 215 0 / var(--tw-bg-opacity, 1))}.bg-black\/50{background-color:rgb(0 0 0 / 0.5)}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity:1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-pink-100{--tw-bg-opacity:1;background-color:rgb(252 231 243 / var(--tw-bg-opacity, 1))}.bg-pink-50{--tw-bg-opacity:1;background-color:rgb(253 242 248 / var(--tw-bg-opacity, 1))}.bg-primary{--tw-bg-opacity:1;background-color:rgb(255 64 129 / var(--tw-bg-opacity, 1))}.bg-primary\/10{background-color:rgb(255 64 129 / 0.1)}.bg-secondary{--tw-bg-opacity:1;background-color:rgb(0 229 255 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity:1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.text-left{text-align:left}.text-center{text-align:center}.font-inter{font-family:Inter, sans-serif}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-6xl{font-size:3.75rem;line-height:1}.text-\[clamp\(1\.2rem\2c 2\.5vw\2c 1\.8rem\)\]{font-size:clamp(1.2rem,2.5vw,1.8rem)}.text-\[clamp\(1\.5rem\2c 3vw\2c 2\.2rem\)\]{font-size:clamp(1.5rem,3vw,2.2rem)}.text-\[clamp\(1\.8rem\2c 4vw\2c 2\.8rem\)\]{font-size:clamp(1.8rem,4vw,2.8rem)}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.leading-relaxed{line-height:1.625}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-dark{--tw-text-opacity:1;color:rgb(45 52 54 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity:1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-pink-600{--tw-text-opacity:1;color:rgb(219 39 119 / var(--tw-text-opacity, 1))}.text-primary{--tw-text-opacity:1;color:rgb(255 64 129 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.backdrop-blur-sm{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.gradient-bg {
                background: linear-gradient(135deg, #FFB6C1 0%, #87CEEB 50%, #FFE4E1 100%);
                background-size: 400% 400%;
                animation: gradientFlow 15s ease infinite;
            }@keyframes gradientFlow {
                0% {
                    background-position: 0% 50%;
                }
                50% {
                    background-position: 100% 50%;
                }
                100% {
                    background-position: 0% 50%;
                }
            }.bg-decoration {
                position: fixed;
                border-radius: 50%;
                background: rgba(255, 182, 193, 0.15);
                z-index: -1;
                animation: float 8s ease-in-out infinite;
            }.bg-decoration--1 {
                top: 15%;
                left: 5%;
                width: 120px;
                height: 120px;
            }.bg-decoration--2 {
                top: 60%;
                right: 8%;
                width: 180px;
                height: 180px;
                background: rgba(135, 206, 235, 0.15);
                animation-delay: -4s;
            }.bg-decoration--3 {
                top: 80%;
                left: 30%;
                width: 90px;
                height: 90px;
                background: rgba(255, 228, 225, 0.15);
                animation-delay: -2s;
            }@keyframes float {
                0% {
                    transform: translateY(0) rotate(0deg);
                }
                50% {
                    transform: translateY(-25px) rotate(180deg);
                }
                100% {
                    transform: translateY(0) rotate(360deg);
                }
            }.card-shadow {
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }.card-shadow:hover {
                transform: translateY(-5px);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            }.btn-hover {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }.btn-hover:hover {
                transform: translateY(-3px) scale(1.02);
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            }.btn-hover:active {
                transform: translateY(-1px) scale(0.98);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
                filter: brightness(0.9);
            }.option-btn {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }.option-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(255, 64, 129, 0.15);
            }.option-btn.active, .option-btn:active {
                background-color: rgba(255, 64, 129, 0.15);
                border-color: #FF4081;
                box-shadow: 0 5px 15px rgba(255, 64, 129, 0.3);
                transform: translateY(-1px);
            }.orientation-btn {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }.orientation-btn:hover {
                transform: translateY(-3px) scale(1.03);
                box-shadow: 0 10px 25px rgba(255, 64, 129, 0.2);
            }.orientation-btn.active, .orientation-btn:active {
                background-color: rgba(255, 64, 129, 0.2);
                border-color: #FF4081;
                transform: translateY(-1px) scale(1.01);
            }.progress-bar {
                background: linear-gradient(90deg, #FF4081, #00E5FF);
                animation: progress 1s ease-in-out;
            }@keyframes progress {
                from {
                    width: 0%;
                }
                to {
                    width: 100%;
                }
            }/* 分享功能样式 */.animate-fadeIn {
                animation: fadeIn 0.3s ease-in-out;
            }@keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }@keyframes tipFade {
                0% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                10% { opacity: 1; transform: translateX(-50%) translateY(0); }
                90% { opacity: 1; transform: translateX(-50%) translateY(0); }
                100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            }
        .hover\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}
        .hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}
        .hover\:bg-gray-300:hover{--tw-bg-opacity:1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}
        .hover\:bg-primary\/20:hover{background-color:rgb(255 64 129 / 0.2)}
        @media (min-width: 768px){.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.md\:p-12{padding:3rem}}
    </style></head>
<body class="gradient-bg min-h-screen font-inter">
    <div class="bg-decoration bg-decoration--1"></div>
    <div class="bg-decoration bg-decoration--2"></div>
    <div class="bg-decoration bg-decoration--3"></div>
    <!-- 首页 -->
    <div id="home-page" class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl p-8 md:p-12 card-shadow max-w-2xl w-full">
            <h1 class="text-[clamp(1.8rem,4vw,2.8rem)] font-bold text-dark text-center mb-4">理想伴侣测试</h1>
            <p class="text-gray-600 text-center mb-8">基于情感心理学的科学测试，帮助你发现最适合自己的灵魂伴侣</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                <div class="bg-pink-50 rounded-2xl p-6 text-center btn-hover cursor-pointer">
                    <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-brain text-white text-2xl"></i>
                    </div>
                    <h3 class="font-bold text-dark mb-2">科学测试</h3>
                    <p class="text-sm text-gray-600">基于情感心理学理论设计，15个维度深度分析</p>
                </div>
                <div class="bg-blue-50 rounded-2xl p-6 text-center btn-hover cursor-pointer">
                    <div class="w-16 h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-heart text-white text-2xl"></i>
                    </div>
                    <h3 class="font-bold text-dark mb-2">精准匹配</h3>
                    <p class="text-sm text-gray-600">根据你的价值观、生活方式和情感需求精准匹配</p>
                </div>
                <div class="bg-yellow-50 rounded-2xl p-6 text-center btn-hover cursor-pointer">
                    <div class="w-16 h-16 bg-accent rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-user-circle text-white text-2xl"></i>
                    </div>
                    <h3 class="font-bold text-dark mb-2">AI形象</h3>
                    <p class="text-sm text-gray-600">生成个性化的伴侣形象，支持多种风格切换</p>
                </div>
            </div>
            
            <button id="start-test-btn" class="w-full bg-primary text-white font-bold py-4 rounded-2xl text-lg btn-hover">
                开始测试
            </button>
        </div>
    </div>

    <!-- 取向选择页面 -->
    <div id="orientation-page" class="min-h-screen flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-3xl p-8 md:p-12 card-shadow max-w-2xl w-full">
            <h2 class="text-[clamp(1.5rem,3vw,2.2rem)] font-bold text-dark text-center mb-2">选择你的取向偏好</h2>
            <p class="text-gray-600 text-center mb-8">这将帮助我们为你匹配更合适的伴侣形象</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                <button class="orientation-btn bg-gray-50 border-2 border-transparent rounded-2xl p-6 text-center btn-hover transition-all duration-300" data-orientation="male">
                    <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-male text-blue-600 text-3xl"></i>
                    </div>
                    <h3 class="font-bold text-dark">男性</h3>
                </button>
                <button class="orientation-btn bg-gray-50 border-2 border-transparent rounded-2xl p-6 text-center btn-hover transition-all duration-300" data-orientation="female">
                    <div class="w-20 h-20 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-female text-pink-600 text-3xl"></i>
                    </div>
                    <h3 class="font-bold text-dark">女性</h3>
                </button>
                <button class="orientation-btn bg-gray-50 border-2 border-transparent rounded-2xl p-6 text-center btn-hover transition-all duration-300" data-orientation="any">
                    <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-users text-green-600 text-3xl"></i>
                    </div>
                    <h3 class="font-bold text-dark">不限</h3>
                </button>
            </div>
            
            <button id="confirm-orientation-btn" class="w-full bg-primary text-white font-bold py-4 rounded-2xl text-lg btn-hover" disabled="">
                确认选择
            </button>
        </div>
    </div>

    <!-- 测试题目页面 -->
    <div id="question-page" class="min-h-screen flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-3xl p-8 md:p-12 card-shadow max-w-2xl w-full">
            <!-- 进度条 -->
            <div class="mb-8">
                <div class="flex justify-between text-sm text-gray-500 mb-2">
                    <span>测试进度</span>
                    <span id="progress-text">1/15</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div id="progress-bar" class="progress-bar h-2.5 rounded-full" style="width: 6.67%"></div>
                </div>
            </div>
            
            <h2 id="question-title" class="text-[clamp(1.2rem,2.5vw,1.8rem)] font-bold text-dark mb-8">你更看重伴侣的什么特质？</h2>
            <p id="question-desc" class="text-gray-600 mb-8">在选择伴侣时，你认为最重要的特质是什么？</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-10">
                <button class="option-btn bg-gray-50 border-2 border-gray-200 rounded-2xl p-4 text-left btn-hover transition-all duration-300" data-answer="A">
                    <span class="font-bold text-primary mr-2">A.</span> 善良和同理心
                </button>
                <button class="option-btn bg-gray-50 border-2 border-gray-200 rounded-2xl p-4 text-left btn-hover transition-all duration-300" data-answer="B">
                    <span class="font-bold text-primary mr-2">B.</span> 诚实和正直
                </button>
                <button class="option-btn bg-gray-50 border-2 border-gray-200 rounded-2xl p-4 text-left btn-hover transition-all duration-300" data-answer="C">
                    <span class="font-bold text-primary mr-2">C.</span> 幽默感和乐观
                </button>
                <button class="option-btn bg-gray-50 border-2 border-gray-200 rounded-2xl p-4 text-left btn-hover transition-all duration-300" data-answer="D">
                    <span class="font-bold text-primary mr-2">D.</span> 责任感和可靠
                </button>
            </div>
            
            <div class="flex justify-between">
                <button id="prev-question-btn" class="bg-gray-200 text-gray-700 font-bold py-3 px-6 rounded-2xl btn-hover" disabled="">
                    上一题
                </button>
                <button id="next-question-btn" class="bg-primary text-white font-bold py-3 px-6 rounded-2xl btn-hover" disabled="">
                    下一题
                </button>
            </div>
        </div>
    </div>

    <!-- 结果页面 -->
    <div id="result-page" class="min-h-screen flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-3xl p-8 md:p-12 card-shadow max-w-3xl w-full">
            <h2 class="text-[clamp(1.5rem,3vw,2.2rem)] font-bold text-dark text-center mb-2">你的理想伴侣是</h2>
            <h3 id="result-title" class="text-[clamp(1.2rem,2.5vw,1.8rem)] font-bold text-primary text-center mb-6">浪漫灵魂伴侣</h3>
            
            <!-- 形象展示区域 -->
            <div class="flex flex-col items-center mb-8">
                <div id="partner-avatar" class="w-48 h-48 rounded-full bg-gray-200 mb-4 flex items-center justify-center">
                    <i class="fas fa-user-circle text-6xl text-gray-400"></i>
                </div>
                <div class="flex gap-4">
                    <button class="style-btn bg-gray-100 text-gray-700 font-bold py-2 px-4 rounded-xl btn-hover" data-style="anime">
                        动漫风格
                    </button>
                    <button class="style-btn bg-gray-100 text-gray-700 font-bold py-2 px-4 rounded-xl btn-hover" data-style="realistic">
                        写实风格
                    </button>
                    <button class="style-btn bg-gray-100 text-gray-700 font-bold py-2 px-4 rounded-xl btn-hover" data-style="chinese">
                        中国风格
                    </button>
                </div>
            </div>
            
            <!-- 匹配分析 -->
            <div class="mb-8">
                <h4 class="font-bold text-dark text-lg mb-3">匹配分析</h4>
                <p id="result-analysis" class="text-gray-600 leading-relaxed">
                    你是一个注重情感连接和深度交流的人，渴望与伴侣建立灵魂层面的共鸣。你相信真爱，期待浪漫的惊喜和真挚的情感表达。在关系中，你愿意付出，也希望得到同等的回应。
                </p>
            </div>
            
            <!-- 核心特质 -->
            <div class="mb-10">
                <h4 class="font-bold text-dark text-lg mb-3">核心特质</h4>
                <div class="flex flex-wrap gap-3">
                    <span class="bg-primary/10 text-primary font-bold py-2 px-4 rounded-full">深情</span>
                    <span class="bg-primary/10 text-primary font-bold py-2 px-4 rounded-full">浪漫</span>
                    <span class="bg-primary/10 text-primary font-bold py-2 px-4 rounded-full">富有想象力</span>
                </div>
            </div>
            
            <button id="restart-test-btn" class="w-full bg-primary text-white font-bold py-4 rounded-2xl text-lg btn-hover">
                重新测试
            </button>
        </div>
    </div>

    <!-- 悬浮分享按钮 -->
    <button id="share-btn" class="fixed bottom-6 right-6 bg-primary text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-all duration-300 z-40 hidden">
        <i class="fas fa-share-alt text-xl"></i>
    </button>

    <!-- 分享弹窗 -->
    <div id="share-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden backdrop-blur-sm">
        <div class="bg-white rounded-3xl p-8 max-w-md w-full mx-4 shadow-2xl animate-fadeIn">
            <h3 class="text-xl font-bold text-dark text-center mb-6">分享我的测试结果</h3>
            <div class="space-y-4">
                <button id="copy-text-btn" class="w-full bg-primary/10 text-primary border border-primary rounded-2xl py-3 font-bold flex items-center justify-center gap-2 hover:bg-primary/20 transition-all duration-300">
                    <i class="fas fa-copy"></i> 复制分享文案
                </button>
                <button id="copy-img-btn" class="w-full bg-gray-100 text-gray-700 border border-gray-200 rounded-2xl py-3 font-bold flex items-center justify-center gap-2 hover:bg-gray-200 transition-all duration-300">
                    <i class="fas fa-image"></i> 复制形象图片链接
                </button>
            </div>
            <button id="close-share-modal" class="w-full bg-gray-200 text-gray-700 rounded-2xl py-3 font-bold mt-6 hover:bg-gray-300 transition-all duration-300">
                关闭
            </button>
        </div>
    </div>

    <script>
        // 页面元素
        const homePage = document.getElementById('home-page');
        const orientationPage = document.getElementById('orientation-page');
        const questionPage = document.getElementById('question-page');
        const resultPage = document.getElementById('result-page');
        
        const startTestBtn = document.getElementById('start-test-btn');
        const orientationBtns = document.querySelectorAll('.orientation-btn');
        const confirmOrientationBtn = document.getElementById('confirm-orientation-btn');
        const optionBtns = document.querySelectorAll('.option-btn');
        const prevQuestionBtn = document.getElementById('prev-question-btn');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const restartTestBtn = document.getElementById('restart-test-btn');
        const styleBtns = document.querySelectorAll('.style-btn');
        
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const questionTitle = document.getElementById('question-title');
        const questionDesc = document.getElementById('question-desc');
        const resultTitle = document.getElementById('result-title');
        const resultAnalysis = document.getElementById('result-analysis');
        const partnerAvatar = document.getElementById('partner-avatar');
        
        // 分享功能元素
        const shareBtn = document.getElementById('share-btn');
        const shareModal = document.getElementById('share-modal');
        const closeShareModalBtn = document.getElementById('close-share-modal');
        const copyTextBtn = document.getElementById('copy-text-btn');
        const copyImgBtn = document.getElementById('copy-img-btn');
        let currentImgUrl = '';
        
        // 测试数据
        let currentOrientation = '';
        let currentQuestionIndex = 0;
        let answers = [];
        
        // 测试题目
        const questions = [
            {
                title: "你更看重伴侣的什么特质？",
                desc: "在选择伴侣时，你认为最重要的特质是什么？",
                options: [
                    "善良和同理心",
                    "诚实和正直",
                    "幽默感和乐观",
                    "责任感和可靠"
                ]
            },
            {
                title: "你更倾向于哪种相处模式？",
                desc: "在日常生活中，你更喜欢和伴侣如何相处？",
                options: [
                    "温馨甜蜜，经常一起做浪漫的事",
                    "互相尊重，给彼此独立的空间",
                    "充满乐趣，一起探索新鲜事物",
                    "稳定踏实，一起为未来努力"
                ]
            },
            {
                title: "你对伴侣的社交圈怎么看？",
                desc: "你希望伴侣的社交情况是？",
                options: [
                    "和我有很多共同的朋友",
                    "有自己独立的社交圈",
                    "社交圈广泛，带我认识更多人",
                    "社交圈简单，更专注于我们的关系"
                ]
            },
            {
                title: "你更在意伴侣的哪方面？",
                desc: "在选择伴侣时，你最在意的是？",
                options: [
                    "内在品质和心灵契合",
                    "外在形象和气质",
                    "能力和未来潜力",
                    "性格和生活习惯"
                ]
            },
            {
                title: "当你遇到困难时，你希望伴侣？",
                desc: "在你遇到挫折或困难时，你希望伴侣如何做？",
                options: [
                    "给我情感上的支持和安慰",
                    "帮我分析问题并给出解决方案",
                    "带我出去散心，转移注意力",
                    "默默陪在我身边，让我自己调整"
                ]
            },
            {
                title: "你对未来的家庭规划是？",
                desc: "你希望未来的家庭生活是怎样的？",
                options: [
                    "充满温馨和爱的小家庭",
                    "各自独立又互相支持的现代家庭",
                    "充满冒险和乐趣的家庭",
                    "稳定传统的家庭"
                ]
            },
            {
                title: "你更看重伴侣的什么能力？",
                desc: "你认为伴侣最重要的能力是？",
                options: [
                    "共情能力，能理解我的感受",
                    "解决问题的能力，能处理各种事情",
                    "创造快乐的能力，能让我开心",
                    "规划能力，能安排好生活"
                ]
            },
            {
                title: "你对伴侣的过去怎么看？",
                desc: "你是否在意伴侣的感情经历？",
                options: [
                    "不在意，只要现在真心对我",
                    "希望了解清楚，避免未来的问题",
                    "有点在意，但不会影响现在的关系",
                    "希望对方是简单的感情经历"
                ]
            },
            {
                title: "你更喜欢哪种约会方式？",
                desc: "你和伴侣的约会更倾向于？",
                options: [
                    "温馨的烛光晚餐或在家做饭",
                    "一起看电影或逛博物馆",
                    "去旅行或尝试新的活动",
                    "一起运动或做户外活动"
                ]
            },
            {
                title: "你对伴侣的消费观怎么看？",
                desc: "你希望伴侣的消费观念是？",
                options: [
                    "愿意为生活品质和浪漫花钱",
                    "理性消费，有计划地花钱",
                    "及时行乐，享受当下",
                    "节俭存钱，为未来打算"
                ]
            },
            {
                title: "当你们有矛盾时，你希望？",
                desc: "在你们发生争吵或分歧时，你希望如何解决？",
                options: [
                    "先安抚情绪，再慢慢沟通",
                    "理性分析问题，找到解决方案",
                    "先冷静一下，再轻松地聊开",
                    "按照道理来，谁错谁道歉"
                ]
            },
            {
                title: "你更看重伴侣的什么优点？",
                desc: "你认为伴侣最吸引人的优点是？",
                options: [
                    "温柔体贴，善解人意",
                    "成熟稳重，有责任心",
                    "活泼开朗，充满活力",
                    "聪明能干，有才华"
                ]
            },
            {
                title: "你对伴侣的兴趣爱好怎么看？",
                desc: "你希望伴侣的兴趣爱好是？",
                options: [
                    "和我有相似的爱好，能一起分享",
                    "有自己独特的爱好，能带我体验新事物",
                    "爱好广泛，能和我一起尝试各种事情",
                    "爱好简单，更专注于我们的相处"
                ]
            },
            {
                title: "你希望伴侣在感情中是？",
                desc: "你希望伴侣在感情中的角色是？",
                options: [
                    "灵魂伴侣，能和我深度交流",
                    "人生伙伴，能和我一起成长",
                    "快乐源泉，能让我一直开心",
                    "依靠，能给我安全感"
                ]
            },
            {
                title: "你对未来的感情期待是？",
                desc: "你希望未来的感情是怎样的？",
                options: [
                    "充满浪漫和惊喜的灵魂之恋",
                    "互相尊重和支持的成熟关系",
                    "充满乐趣和冒险的快乐关系",
                    "稳定踏实的长久关系"
                ]
            }
        ];
        
        // 结果类型
        const resultTypes = {
            male: [
                {
                    title: "浪漫灵魂伴侣",
                    analysis: "你是一个注重情感连接和深度交流的人，渴望与伴侣建立灵魂层面的共鸣。你相信真爱，期待浪漫的惊喜和真挚的情感表达。在关系中，你愿意付出，也希望得到同等的回应。",
                    traits: ["深情", "浪漫", "富有想象力"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/6ult1vz4ih",
                        realistic: "https://aka.doubaocdn.com/s/1unG1vz4ih",
                        chinese: "https://aka.doubaocdn.com/s/zVwC1vz4ii"
                    }
                },
                {
                    title: "成熟可靠伴侣",
                    analysis: "你是一个注重稳定和安全感的人，希望伴侣是一个成熟可靠的人，能在生活中给你支持和依靠。你看重责任和担当，希望和伴侣一起建立一个稳定的未来。",
                    traits: ["稳重", "可靠", "有责任心"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/9VRE1vz4ih",
                        realistic: "https://aka.doubaocdn.com/s/NK0Q1vz4ig",
                        chinese: "https://aka.doubaocdn.com/s/uysc1vz4ih"
                    }
                },
                {
                    title: "快乐阳光伴侣",
                    analysis: "你是一个热爱生活、喜欢快乐的人，希望伴侣是一个阳光开朗的人，能带给你很多快乐和惊喜。你喜欢充满活力的关系，希望和伴侣一起探索生活的乐趣。",
                    traits: ["开朗", "乐观", "充满活力"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/a1vd1vz4j1",
                        realistic: "https://aka.doubaocdn.com/s/elWL1vz4j1",
                        chinese: "https://aka.doubaocdn.com/s/lreG1vz4j1"
                    }
                },
                {
                    title: "智慧理性伴侣",
                    analysis: "你是一个理性思考的人，希望伴侣是一个智慧、有思想的人，能和你一起探讨各种话题，互相成长。你看重内在的品质和能力，希望和伴侣一起进步。",
                    traits: ["智慧", "理性", "有思想"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/Yhxm1vz4j0",
                        realistic: "https://aka.doubaocdn.com/s/kLaU1vz4j0",
                        chinese: "https://aka.doubaocdn.com/s/IApu1vz4j0"
                    }
                }
            ],
            female: [
                {
                    title: "浪漫灵魂伴侣",
                    analysis: "你是一个注重情感连接和深度交流的人，渴望与伴侣建立灵魂层面的共鸣。你相信真爱，期待浪漫的惊喜和真挚的情感表达。在关系中，你愿意付出，也希望得到同等的回应。",
                    traits: ["深情", "浪漫", "富有想象力"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/EyP91vz4jJ",
                        realistic: "https://aka.doubaocdn.com/s/mbCg1vz4jJ",
                        chinese: "https://aka.doubaocdn.com/s/kZiG1vz4jK"
                    }
                },
                {
                    title: "温柔体贴伴侣",
                    analysis: "你是一个渴望温暖和关怀的人，希望伴侣是一个温柔体贴的人，能在生活中给你很多关心和照顾。你看重细节和情感的表达，希望和伴侣建立一个温馨的关系。",
                    traits: ["温柔", "体贴", "细心"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/wBle1vz4jK",
                        realistic: "https://aka.doubaocdn.com/s/Z3jw1vz4jK",
                        chinese: "https://aka.doubaocdn.com/s/P9k91vz4jK"
                    }
                },
                {
                    title: "活力元气伴侣",
                    analysis: "你是一个热爱生活、充满活力的人，希望伴侣是一个元气满满的人，能和你一起体验各种有趣的事情。你喜欢充满激情的关系，希望和伴侣一起创造很多美好的回忆。",
                    traits: ["元气", "活泼", "充满激情"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/LoX41vz4jg",
                        realistic: "https://aka.doubaocdn.com/s/7nYn1vz4jh",
                        chinese: "https://aka.doubaocdn.com/s/RGLV1vz4jg"
                    }
                },
                {
                    title: "独立知性伴侣",
                    analysis: "你是一个独立、有思想的人，希望伴侣是一个知性、有内涵的人，能和你一起成长，互相尊重。你看重内在的品质和独立的人格，希望和伴侣建立平等的关系。",
                    traits: ["独立", "知性", "有内涵"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/BuN11vz4jh",
                        realistic: "https://aka.doubaocdn.com/s/N4KX1vz4jh",
                        chinese: "https://aka.doubaocdn.com/s/oKF71vz4ji"
                    }
                }
            ],
            any: [
                {
                    title: "浪漫灵魂伴侣",
                    analysis: "你是一个注重情感连接和深度交流的人，渴望与伴侣建立灵魂层面的共鸣。你相信真爱，期待浪漫的惊喜和真挚的情感表达。在关系中，你愿意付出，也希望得到同等的回应。",
                    traits: ["深情", "浪漫", "富有想象力"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/hDaf1vz4V4",
                        realistic: "https://aka.doubaocdn.com/s/wzoZ1vz4V3",
                        chinese: "https://aka.doubaocdn.com/s/DXEm1vz4V4"
                    }
                },
                {
                    title: "温暖治愈伴侣",
                    analysis: "你是一个渴望温暖和治愈的人，希望伴侣是一个能给你带来温暖和安全感的人，能在你需要的时候给你支持和安慰。你看重情感的陪伴和心灵的契合。",
                    traits: ["温暖", "治愈", "有安全感"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/hDaf1vz4V4",
                        realistic: "https://aka.doubaocdn.com/s/wzoZ1vz4V3",
                        chinese: "https://aka.doubaocdn.com/s/DXEm1vz4V4"
                    }
                },
                {
                    title: "有趣灵魂伴侣",
                    analysis: "你是一个喜欢有趣事物的人，希望伴侣是一个有有趣灵魂的人，能和你一起发现生活的乐趣，创造很多有趣的回忆。你看重个性和独特的魅力。",
                    traits: ["有趣", "独特", "有个性"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/hDaf1vz4V4",
                        realistic: "https://aka.doubaocdn.com/s/wzoZ1vz4V3",
                        chinese: "https://aka.doubaocdn.com/s/DXEm1vz4V4"
                    }
                },
                {
                    title: "成长伙伴伴侣",
                    analysis: "你是一个注重成长和进步的人，希望伴侣是一个能和你一起成长、互相促进的人，能和你一起追求更好的自己。你看重共同的目标和互相的支持。",
                    traits: ["上进", "互助", "有目标"],
                    images: {
                        anime: "https://aka.doubaocdn.com/s/hDaf1vz4V4",
                        realistic: "https://aka.doubaocdn.com/s/wzoZ1vz4V3",
                        chinese: "https://aka.doubaocdn.com/s/DXEm1vz4V4"
                    }
                }
            ]
        };
        
        // 初始化页面
        function init() {
            // 绑定事件
            startTestBtn.addEventListener('click', goToOrientationPage);
            
            orientationBtns.forEach(btn => {
                btn.addEventListener('click', selectOrientation);
            });
            
            confirmOrientationBtn.addEventListener('click', goToQuestionPage);
            
            optionBtns.forEach(btn => {
                btn.addEventListener('click', selectOption);
            });
            
            prevQuestionBtn.addEventListener('click', goToPrevQuestion);
            nextQuestionBtn.addEventListener('click', goToNextQuestion);
            
            restartTestBtn.addEventListener('click', restartTest);
            
            styleBtns.forEach(btn => {
                btn.addEventListener('click', changeStyle);
            });
            
            // 分享功能事件
            shareBtn.addEventListener('click', openShareModal);
            closeShareModalBtn.addEventListener('click', closeShareModal);
            copyTextBtn.addEventListener('click', copyShareText);
            copyImgBtn.addEventListener('click', copyShareImg);
            // 点击遮罩层关闭弹窗
            shareModal.addEventListener('click', (e) => {
                if (e.target === shareModal) {
                    closeShareModal();
                }
            });
        }
        
        // 前往取向选择页面
        function goToOrientationPage() {
            homePage.classList.add('hidden');
            orientationPage.classList.remove('hidden');
        }
        
        // 选择取向
        function selectOrientation(e) {
            // 重置所有按钮样式
            orientationBtns.forEach(btn => {
                btn.classList.remove('border-primary', 'bg-primary/5', 'active');
                btn.classList.add('border-transparent', 'bg-gray-50');
            });
            
            // 设置当前选中的取向
            currentOrientation = e.currentTarget.dataset.orientation;
            
            // 设置选中按钮样式
            e.currentTarget.classList.remove('border-transparent', 'bg-gray-50');
            e.currentTarget.classList.add('border-primary', 'bg-primary/5', 'active');
            
            // 启用确认按钮
            confirmOrientationBtn.disabled = false;
        }
        
        // 前往题目页面
        function goToQuestionPage() {
            orientationPage.classList.add('hidden');
            questionPage.classList.remove('hidden');
            
            // 初始化题目
            showQuestion(currentQuestionIndex);
        }
        
        // 显示题目
        function showQuestion(index) {
            const question = questions[index];
            
            // 更新题目内容
            questionTitle.textContent = question.title;
            questionDesc.textContent = question.desc;
            
            // 更新选项
            optionBtns.forEach((btn, i) => {
                btn.innerHTML = `<span class="font-bold text-primary mr-2">${String.fromCharCode(65 + i)}.</span> ${question.options[i]}`;
                btn.classList.remove('border-primary', 'bg-primary/5', 'active');
                btn.classList.add('border-gray-200', 'bg-gray-50');
            });
            
            // 更新进度
            const progress = ((index + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `${index + 1}/${questions.length}`;
            
            // 更新按钮状态
            prevQuestionBtn.disabled = index === 0;
            nextQuestionBtn.disabled = answers[index] === undefined;
            
            // 如果已经有答案，设置选中状态
            if (answers[index] !== undefined) {
                const selectedBtn = optionBtns[answers[index].charCodeAt(0) - 65];
                selectedBtn.classList.remove('border-gray-200', 'bg-gray-50');
                selectedBtn.classList.add('border-primary', 'bg-primary/5', 'active');
            }
        }
        
        // 选择选项
        function selectOption(e) {
            // 重置所有按钮样式
            optionBtns.forEach(btn => {
                btn.classList.remove('border-primary', 'bg-primary/5', 'active');
                btn.classList.add('border-gray-200', 'bg-gray-50');
            });
            
            // 设置选中按钮样式
            e.currentTarget.classList.remove('border-gray-200', 'bg-gray-50');
            e.currentTarget.classList.add('border-primary', 'bg-primary/5', 'active');
            
            // 保存答案
            answers[currentQuestionIndex] = e.currentTarget.dataset.answer;
            
            // 启用下一题按钮
            nextQuestionBtn.disabled = false;
        }
        
        // 前往上一题
        function goToPrevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }
        
        // 前往下一题
        function goToNextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            } else {
                // 完成测试，显示结果
                showResult();
            }
        }
        
        // 显示结果
        function showResult() {
            questionPage.classList.add('hidden');
            resultPage.classList.remove('hidden');
            
            // 计算结果
            const result = calculateResult();
            
            // 更新结果内容
            resultTitle.textContent = result.title;
            resultAnalysis.textContent = result.analysis;
            
            // 更新核心特质
            const traitsContainer = document.querySelector('.flex.flex-wrap.gap-3');
            traitsContainer.innerHTML = '';
            result.traits.forEach(trait => {
                const traitElement = document.createElement('span');
                traitElement.className = 'bg-primary/10 text-primary font-bold py-2 px-4 rounded-full';
                traitElement.textContent = trait;
                traitsContainer.appendChild(traitElement);
            });
            
            // 设置默认形象
            changeStyle({currentTarget: styleBtns[0]});
            // 显示分享按钮
            shareBtn.classList.remove('hidden');
        }
        
        // 计算结果
        function calculateResult() {
            // 统计答案
            const counts = {A: 0, B: 0, C: 0, D: 0};
            answers.forEach(answer => {
                counts[answer]++;
            });
            
            // 找到最多的答案
            let maxCount = 0;
            let maxAnswer = 'A';
            for (const [key, value] of Object.entries(counts)) {
                if (value > maxCount) {
                    maxCount = value;
                    maxAnswer = key;
                }
            }
            
            // 根据取向和答案返回结果
            const resultList = resultTypes[currentOrientation];
            let resultIndex = 0;
            
            switch (maxAnswer) {
                case 'A':
                    resultIndex = 0;
                    break;
                case 'B':
                    resultIndex = 1;
                    break;
                case 'C':
                    resultIndex = 2;
                    break;
                case 'D':
                    resultIndex = 3;
                    break;
            }
            
            return resultList[resultIndex];
        }
        
        // 切换形象风格
        function changeStyle(e) {
            // 重置所有按钮样式
            styleBtns.forEach(btn => {
                btn.classList.remove('bg-primary', 'text-white');
                btn.classList.add('bg-gray-100', 'text-gray-700');
            });
            
            // 设置选中按钮样式
            e.currentTarget.classList.remove('bg-gray-100', 'text-gray-700');
            e.currentTarget.classList.add('bg-primary', 'text-white');
            
            // 获取当前结果
            const result = calculateResult();
            const style = e.currentTarget.dataset.style;
            currentImgUrl = result.images[style];
            
            // 更新头像
            partnerAvatar.innerHTML = `<img src="${currentImgUrl}" alt="理想伴侣形象" class="w-full h-full rounded-full object-cover">`;
        }
        
        // 分享功能相关函数
        function openShareModal() {
            shareModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeShareModal() {
            shareModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function copyShareText() {
            const result = calculateResult();
            const traitsText = result.traits.join('、');
            const shareText = `✨我的理想伴侣测试结果来啦！✨
我的理想伴侣是【${result.title}】
核心特质：${traitsText}
测试分析：${result.analysis.substring(0, 80)}...
快来测测你的理想伴侣是什么样的吧！
测试链接：https://p6-flow-sign.byteimg.com/tos-cn-i-ik7evvg4ik/rc/supertask/9949a4577f9f469aa74abcbe53f5d862?lk3s=8e244e95&rcl=202602061356066CE83F4EF16C460EDC53&rrcfp=68002718&x-expires=2085717666&x-signature=BLcyQvrBC6y3oOfRwwSsF%2Fuu4%2BI%3D`;
            
            // 复制到剪贴板
            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText).then(() => {
                    showCopyTip('分享文案复制成功！');
                }).catch(err => {
                    console.error('剪贴板复制失败:', err);
                    fallbackCopy(shareText);
                });
            } else {
                fallbackCopy(shareText);
            }
        }

        function copyShareImg() {
            if (!currentImgUrl) {
                showCopyTip('暂无图片链接，请先切换形象');
                return;
            }
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(currentImgUrl).then(() => {
                    showCopyTip('图片链接复制成功！');
                }).catch(err => {
                    console.error('剪贴板复制失败:', err);
                    fallbackCopy(currentImgUrl);
                });
            } else {
                fallbackCopy(currentImgUrl);
            }
        }

        function fallbackCopy(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.top = '-9999px';
            textArea.style.left = '-9999px';
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                showCopyTip('复制成功！');
            } catch (err) {
                console.error('备用复制失败:', err);
                showCopyTip('复制失败，请手动复制');
            } finally {
                document.body.removeChild(textArea);
            }
        }

        function showCopyTip(text) {
            // 移除已有的提示
            const existingTip = document.querySelector('.copy-tip');
            if (existingTip) {
                document.body.removeChild(existingTip);
            }
            const tip = document.createElement('div');
            tip.className = 'copy-tip';
            tip.textContent = text;
            document.body.appendChild(tip);
            setTimeout(() => {
                if (document.body.contains(tip)) {
                    document.body.removeChild(tip);
                }
            }, 2000);
        }
        
        // 重新测试
        function restartTest() {
            resultPage.classList.add('hidden');
            homePage.classList.remove('hidden');
            
            // 重置数据
            currentOrientation = '';
            currentQuestionIndex = 0;
            answers = [];
            
            // 重置取向选择按钮
            orientationBtns.forEach(btn => {
                btn.classList.remove('border-primary', 'bg-primary/5', 'active');
                btn.classList.add('border-transparent', 'bg-gray-50');
            });
            confirmOrientationBtn.disabled = true;
            // 隐藏分享按钮
            shareBtn.classList.add('hidden');
            closeShareModal();
        }
        
        // 初始化
        init();
    </script>

</body></html>